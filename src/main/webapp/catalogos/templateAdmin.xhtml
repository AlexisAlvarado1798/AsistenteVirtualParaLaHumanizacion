<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta charset="utf-8"/>
        <h:outputStylesheet library="css" name="default.css"/>
        <h:outputStylesheet library="cdd" name="cssLayout.css"/>
        <h:outputStylesheet name="%YOUR_PATH%/primeflex.min.css" />
        <link rel="shourtcut icon" href="#{request.contextPath}/resources/assets/users.ico" />
        <script src="#{request.contextPath}/resources/js/jscript.js" type="text/javascript"></script>
        <title>#{bundle.tituloApp}</title>
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <script src="#{request.contextPath}/resources/TemplateData/UnityProgress.js"></script>
        <script src="#{request.contextPath}/resources/Build/UnityLoader.js"></script>
        <script>
            var unityInstance = UnityLoader.instantiate("unityContainer", "#{request.contextPath}/resources/Build/WebGL.json", {onProgress: UnityProgress});
        </script>

    </h:head>

    <h:body onload="invalidarBtnAtras();">
        <div id="top" class="left_content">
            <ui:insert name="top">
                <p:commandLink action="#{usuarioController.obtenerRutaMenuPrincipal()}">
                    <h:graphicImage url="/resources/assets/Users_Top.png" alt="Ir a la pagina principal"/>
                </p:commandLink>    

                <h:form>
                    <p:menubar autoDisplay="false" binding="#{menuDinamicoController.model}">
                        <p:submenu label="new">
                            <p:submenu label="Hola" icon="pi pi-fw pi-bookmark">
                                <p:menuitem value="Video" icon="pi pi-fw pi-video" onclick="unityInstance.SendMessage('mutant@Standing Greeting', 'Saludar')" />                     
                            </p:submenu>       
                        </p:submenu>
                        <f:facet name="options">
                            <b><h:outputText value="Bienvenido:
                                             #{usuarioController.obtenerUsuarioLogueado().nombreusuario} - #{usuarioController.obtenerUsuarioLogueado().fkRol.descripcion} " 
                                             style="color: #000000"/></b>

                            <h:commandLink value="|| Cerrar sesi&oacute;n" 
                                           action="#{usuarioController.cerrarSesion()}" 
                                           style="color: #000000; font-size: 10pt; font-weight: bold" />

                            <h:commandLink value=" || Men&uacute; principal"
                                           action="#{usuarioController.obtenerRutaMenuPrincipal()}"
                                           style="color: #000000; font-size: 10pt; font-weight: bold"/>
                        </f:facet>
                    </p:menubar>

                    <br></br>

                </h:form>
            </ui:insert>
        </div>

        <div id="content" class="left_content">
            <ui:insert name="content">  
            </ui:insert>
        </div>
        <h1>Hola Mundo</h1>
        <div class="p-shadow-24">
            <p:card style="width: 25em" class="p-shadow-24" >
                <f:facet name="title">
                    Asistente Virtual
                </f:facet>
                <f:facet name="subtitle">
                    Tips Humanizados
                </f:facet>
                <div class="webgl-content">
                    <div id="unityContainer" style="width: 200px; height: 200px"></div>
                </div>
                <f:facet name="footer">
                    <p:slideMenu style="width:200px" binding="#{menuTipsController.model1}">
                        <p:submenu label="Options" />
                                                <p:submenu label="Options" />
                    </p:slideMenu>
                </f:facet>
            </p:card>
        </div>

        <div id="bottom">
            <ui:insert name="bottom">
                <div align="center">
                    <img src="#{request.contextPath}/resources/assets/Koala.jpg" width="24" height="20" alt="Koala"/>
                    Todosl los derechos reservados - Alexis Alvarado Soft
                    <img src="#{request.contextPath}/resources/assets/Koala.jpg" width="24" height="20" alt="Koala"/>
                </div>
            </ui:insert>
        </div>
    </h:body>

    <script>
        $(".myMeineClass").bind("click", function () {
            unityInstance.SendMessage('mutant@Standing Greeting', 'Saludar')
        });
    </script>

</html>
